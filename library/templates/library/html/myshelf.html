<!DOCTYPE html>
<html lang="en">
<head>
  {% load static%}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finish borrowing</title>
    <link rel="stylesheet" href="{% static 'css/myshelf.css'%}">
    <link rel="stylesheet" href="{% static 'css/home.css'%}">


    <script>
      let user = '{{request.user}}'

function getToken(name) {
let cookieValue = null;
if (document.cookie && document.cookie !== '') {
    const cookies = document.cookie.split(';');
    for (let i = 0; i < cookies.length; i++) {
        const cookie = cookies[i].trim();
        // Does this cookie string begin with the name we want?
        if (cookie.substring(0, name.length + 1) === (name + '=')) {
            cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
            break;
       
          }
    }
}
return cookieValue;
}
const csrftoken = getToken('csrftoken');
    </script>
</head>
<body>
  <div class="header">
    <div class="homebutton">
      <div class="homebutton2"><a class="try"  href="{% url 'home'%}"><img class="home-image" src="{% static 'images/home.png' %}" alt=""></a></div>
    </div>
    <div class="headersearch">
      <input class="headerinput" placeholder="Search..." type="text" name="" id="">
    </div>


    <div class="headeritems">
      <div class="headeritemelement"><a class="try" href="{% url 'myshelf' %}"><img class="shelf-image" src="{% static 'images/shelf.jpeg'%}" alt=""></a></div>
      <div class="headeritemelement"><a class="try" href="{% url 'returning' %}"><img class="history-image" src="{% static 'images/history.png' %}" alt=""></a></div>
      <div class="headeritemelement"><a class="try" href="{% url 'account' %}"><img class="account-image" src="{% static 'images/account.png' %}" alt=""></a></div>
    </div>

  </div>


  <div class="upper-part">
    <h1> Welcome to your Shelf</h1>
  </div>

  
  <div class="the-shelf-content">
    <div class="container-1">
      <div class="wherethereturnis">
        <a href="{% url 'home' %}"><button class="back-to-browsing-button">â‡¦ Back to browsing</button></a>
      </div>
      <div class="wherethebooksare">
        <div class="state"></div>
        <div class="state"></div>
        <div class="state"><a href="{% url 'history' %}"><button onclick="
          clearshelf();
        " class="confirm-button clear-shelf">Go To Readings...</button></a></div>
      </div>
    </div>
    

    <div class="container-2">      
      <div class="container-2-elements">
        <div>book image</div>
        <div>book name</div>
        <div>book author</div>
        <div>book Number</div>  
        <div>chose starting date</div>
      </div>

      

      <div class="container-items">
        {% for item in items %}
        <div class="container-2-placement itemstoempty">
          <div><img class="check-img" src="{{item.book.imageURL}}" alt=""></div>
          <div>{{item.book.title}}</div>
          <div>{{item.book.author}}</div>
          <div>{{item.quantity}}</div>
          <div class="test">
            <input id="starting-date" type="date" name="" id="">
            <button data-book="{{item.book.id}}" data-action="remove" class="Remove-button remove-shelf">Remove</button>
            <button data-book="{{item.book.id}}" data-action="Confirm" class="history-confirm">Confirm</button>
          </div>
        </div>
        {% endfor %}
      </div>


    </div>
  </div>
  <script src="{% static 'scripts/myshelf.js' %}"></script>
</body>
</html>